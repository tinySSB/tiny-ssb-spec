# Type 0 - Fixed Size Messages

Type 0 messages are the simplest form of tinySSB messages, designed for content
that fits **exactly** in the 48-byte content field of a main chain packet. These
messages follow the standard main chain packet format described in section 4.3,
with specific rules for the content field.

## Purpose and Use Cases

Type 0 messages are ideal for:
- Short text messages
- Status updates
- Sensor readings
- Control commands
- References to external data

## Detailed Packet Structure

```
  |<------------------------------ 120 bytes ---------------------------->|

  ┌──────────┬─────────────┬───────────────────────┬──────────────────────┐
  │ DMX      │ Type = 0    │ Content               │ Signature            │
  │ (7 bytes)│ (1 byte)    │ (48 bytes)            │ (64 bytes)           │
  └──────────┴─────────────┴───────────────────────┴──────────────────────┘
```

## Content Format

The 48-byte content field in Type 0 messages typically contains BIPF-encoded
data. BIPF (Binary In-Place Format) is a compact binary encoding format similar
to CBOR or MessagePack, but optimized for in-place parsing without memory
allocation.

<details>
  <summary>More info</summary>

The content structure is application-specific, but common patterns include:

1. **Simple text messages**:
   ```
   BIPF.encode(["text", "Hello, tinySSB world!"])
   ```

2. **Structured data**:
   ```
   BIPF.encode({
     type: "temperature",
     value: 23.5,
     unit: "C",
     timestamp: 1620000000
   })
   ```

3. **References to external data**:
   ```
   BIPF.encode({
     type: "reference",
     hash: [byte array of external content hash]
   })
   ```
If the encoded content is less than 48 bytes, it is padded with zeros to fill the field.

</details>


## Processing and Verification

When a peer receives a Type 0 message, it:

1. Verifies the DMX header matches an expected message (based of feed, sequence,
etc.)
2. Verifies the signature using the feed's public key
3. Processes the content according to application-specific rules
4. Updates its record of the feed's latest sequence number
5. Calculates and stores the message ID for future reference
6. Calculates the DMX of the next expected message for that feed, in readiness
to listen for its arrival
